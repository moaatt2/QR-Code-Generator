<html>
    <head>
        <title>Free QR Code Generator</title>
        <link rel="shortcut icon" href="assets/images/icon.png" type="image/x-icon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>

        <!-- Page Header -->
        <h1 style="text-align: center;">QR Code Generator</h1>

        <div class="flex-container">
            <!-- Input Section -->
            <div class="input-column">
                <!-- Tab Headers -->
                <div class="tab">
                    <button class="tablinks" onclick="openTab(event, 'rawData')"><b>Raw Data</b></button>
                    <button class="tablinks" onclick="openTab(event, 'vCard')" id="defaultTab"><b>vCard</b></button>
                </div>

                <!-- Tab Content -->
                <div>
                    <!-- Raw Data Tab -->
                    <div id="rawData" class="tabContent">
                        <p>Enter the data you want to encode in the QR code:</p>
                        <textarea id="rawDataInput" rows="10" placeholder="Enter qr code data here"></textarea>
                    </div>

                    <!-- vCard Tab -->
                    <div id="vCard" class="tabContent">

                        <!-- Name Section -->
                        <div>
                            <h3>Name Section</h3>
                            <div class="form-group">
                                <label for="displayName">Display Name:</label>
                                <input type="text" id="displayName" placeholder="Enter display name">
                            </div>
                            <div class="form-group">
                                <label for="prefix">Prefix:</label>
                                <input type="text" id="prefix" placeholder="Enter prefix">
                            </div>
                            <div class="form-group">
                                <label for="firstName">First Name:</label>
                                <input type="text" id="firstName" placeholder="Enter first name">
                            </div>
                            <div class="form-group">
                                <label for="middleName">Middle Name:</label>
                                <input type="text" id="middleName" placeholder="Enter middle name">
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name:</label>
                                <input type="text" id="lastName" placeholder="Enter last name">
                            </div>
                            <div class="form-group">
                                <label for="suffix">Suffix:</label>
                                <input type="text" id="suffix" placeholder="Enter suffix">
                            </div>
                            <hr>
                        </div>

                        <!-- Notes Section -->
                        <div>
                            <h3>Notes Section</h3>
                            Leave this blank if you don't want to add any notes.
                            <br>
                            <br>
                            <textarea id="notes" rows="5" placeholder="Enter notes here"></textarea>
                            <hr>
                        </div>

                        <!-- Sound Link -->
                        <div>
                            <h3>Sound Link</h3>
                            Leave this blank if you don't want to add a sound link.
                            <br>
                            <br>
                            <input class="form-input" type="text" id="soundLink" placeholder="Enter sound link">
                            <hr>
                        </div>

                        <!-- Source Link -->
                        <div>
                            <h3>Source Link</h3>
                            This is for a link to where an up to date version of this vCard can be found.
                            <br>
                            Leave this blank if you don't want to add a source link.
                            <br>
                            <br>
                            <input class="form-input" type="text" id="sourceLink" placeholder="Enter source link">
                            <hr>
                        </div>

                        <!-- Phone Number -->
                        <div>
                            <h3>Phone Number</h3>

                            <div id="phone_count" class="count-div">1</div>

                            <div id="phoneNumbers">
                                <div id="phone_number_1">
                                    <div class="form-group">
                                        <label for="phone_number_1">Phone Number:</label>
                                        <input type="tel" id="phone_number_1" name="phone_number_1" placeholder="Enter phone number">
                                    </div>
                                    <div class="form-group">
                                        <label for="phone_type_1">Phone Type:</label>
                                        <select name="phone_type_1" id="phone_type_1">
                                            <option value=""></option>
                                            <option value="text">text</option>
                                            <option value="voice">voice</option>
                                            <option value="fax">fax</option>
                                            <option value="cell">cell</option>
                                            <option value="video">video</option>
                                            <option value="pager">pager</option>
                                            <option value="textphone">textphone</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="button-group">
                                <button id="add-phone-button" onclick="addPhoneNumber();">Add Number</button>
                                <button id="del-phone-button" onclick="delPhoneNumber();" disabled>Remove Number</button>
                            </div>

                            <hr>
                        </div>

                        <h3>Email Address</h3>
                        <hr>

                        <!-- Calendar Link -->
                        <div>
                            <h3>Calendar Link</h3>
                            This is for a link to an online calendar showing your availability for meetings or events.
                            <br>
                            Leave this blank if you don't want to add a calendar link.
                            <br>
                            <br>
                            <input class="form-input" type="text" id="calendarLink" placeholder="Enter calendar link">
                            <hr>
                        </div>

                        <!-- Birthday -->
                        <div>
                            <h3>Birthday</h3>
                            Leave this blank if you don't want to add a birthday.
                            <br>
                            <br>
                            <input class="form-input" type="date" id="birthday">
                            <hr>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Image Section -->
            <div class="image-column">
                <img id="qr_image_display" src="assets/images/placeholder.png">
                <br>
                <button>Update QR Code</button>
                <br>
                <button>Download</button>
            </div>
        </div>

        <script>
            function addPhoneNumber() {
                console.log("Adding phone number");

                // Find current phone number count
                let phoneCountDiv = document.getElementById("phone_count");
                let phoneCount = parseInt(phoneCountDiv.innerText);
                console.log("Current phone count: " + phoneCount);

                // Increment & update phone count
                phoneCount++;
                phoneCountDiv.innerText = phoneCount;

                // Create new phone number section
                let newPhone = document.createElement("div");
                newPhone.id = `phone_number_${phoneCount}`;
                newPhone.innerHTML = `
                                    <div class="form-group">
                                        <label for="phone_number_${phoneCount}">Phone Number:</label>
                                        <input type="tel" id="phone_number_${phoneCount}" name="phone_number_${phoneCount}" placeholder="Enter phone number">
                                    </div>
                                    <div class="form-group">
                                        <label for="phone_type_${phoneCount}">Phone Type:</label>
                                        <select name="phone_type_${phoneCount}" id="phone_type_${phoneCount}">
                                            <option value=""></option>
                                            <option value="text">text</option>
                                            <option value="voice">voice</option>
                                            <option value="fax">fax</option>
                                            <option value="cell">cell</option>
                                            <option value="video">video</option>
                                            <option value="pager">pager</option>
                                            <option value="textphone">textphone</option>
                                        </select>
                                    </div>
                `
                document.getElementById("phoneNumbers").appendChild(newPhone);

                // Enable Delete Button
                document.getElementById("del-phone-button").disabled = false;
            }

        </script>

        <!-- Temporary in page styling -->
        <style>

            /* input label combo styling */
            .form-group {
                display: flex;
                flex-direction: row;
                align-items: center;
                margin: 10px 0;
            }
            .form-group label {
                width: 105px;
                margin-right: 10px;
                text-align: right;
            }
            .form-group input {
                flex: 1;
            }
            .form-group select {
                flex: 1;
            }

            /* Style the tab content */
            .tabContent .form-input {
                width: 100%;
            }

            /* Hide count divs */
            .count-div {
                display: none;
            }

            /* Add margin and center button in  */
            .image-column button {
                margin: 5px;
            }

            /* Style vCard buttons */
            .button-group {
                display: flex;
            }
            #vCard button {
                flex: 1;
                margin: 10px 5px 0px 5px;
            }

            /* Style raw data textarea input */
            .tabContent textarea {
                width: 100%;
                padding: 10px;
                box-sizing: border-box;
                resize: vertical;
            }

            /* Use flexbox to center and stretch buttons */
            .image-column {
                flex: 0 0 200px;
                display: flex;
                flex-direction: column;
                align-self: center;
            }

            .input-column {
                flex: 1 1 200px;
                margin: 0 20px;
            }

            /* Use flexbox to place image tab and data tab side by side */
            .flex-container {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: space-evenly;
            }

            /* Style the tab */
            .tab {
                overflow: hidden;
                border: 1px solid #ccc;
                background-color: #f1f1f1;
            }

            /* Style the buttons that are used to open the tab content */
            .tab button {
                background-color: inherit;
                float: left;
                border: none;
                outline: none;
                cursor: pointer;
                padding: 14px 16px;
                transition: 0.3s;
            }

            /* Change background color of buttons on hover */
            .tab button:hover {
                background-color: #ddd;
            }

            /* Create an active/current tablink class */
            .tab button.active {
                background-color: #ccc;
            }

            /* Style the tab content */
            .tabcontent {
                display: none;
                padding: 6px 12px;
                border: 1px solid #ccc;
                border-top: none;
            } 
        </style>

        <script>
            function openTab(evt, tabName) {
            // Declare all variables
            var i, tabcontent, tablinks;

            // Get all elements with class="tabcontent" and hide them
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            // Get all elements with class="tablinks" and remove the class "active"
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
            } 

            // Open the default tab on page load
            document.getElementById("defaultTab").click();
        </script>
    </body>
</html>